{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="fixed top-4 inset-x-4 md:top-20 md:right-4 md:inset-x-auto z-50 space-y-2">
      {% for category, message in messages %}
        <div x-data="{ show: true }"
             x-show="show"
             x-init="setTimeout(() => show = false, 3000)"
             x-transition:leave="transition ease-in duration-500"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0"
             class="px-4 py-2 rounded shadow text-white text-sm max-w-sm w-full
                    {% if category == 'success' %}bg-green-600{% elif category == 'info' %}bg-blue-500{% else %}bg-gray-700{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}